---
- name: Inject softwares vars
  include_vars:
    name: software_vars
    file: vars.yml

- name: Install softwares prereqs
  apt:
    name: "{{ item }}"
    state: present
    update_cache: yes
  loop: "{{ software_vars.prereqs }}"

- name: Install vscode
  script:
    cmd: scripts/install-vscode.sh
    creates: /usr/lock/vscode.lock

- name: Install brave
  script:
    cmd: scripts/install-brave.sh
    creates: /usr/lock/brave.lock

- name: Install snap softwares
  snap:
    name: "{{ item }}"
    state: present
  loop: "{{ software_vars.snap_softwares }}"
